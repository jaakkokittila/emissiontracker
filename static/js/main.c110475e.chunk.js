(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/API_SP.POP.TOTL_DS2_en_xml_v2_10224853.fd0764c9.xml"},function(e,t,n){e.exports=n.p+"static/media/API_EN.ATM.CO2E.KT_DS2_en_xml_v2_10227343.acf34dce.xml"},function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(9),s=n.n(i),r=(n(17),n(2)),o=n(1),c=n(3),u=n(4),h=n(7),m=n(5),d=n(6),f=(n(19),n(10)),b=n.n(f),E=n(11),p=n.n(E),g=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(x,null)}}]),t}(a.Component),x=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={selected:!1,searchItem:"",population:null,emissions:null,textfield:"Select a country",matches:null,countries:[],selectedCountry:null,data:null,infobox:null},e.loadFile=e.loadFile.bind(Object(o.a)(Object(o.a)(e))),e.handleChange=e.handleChange.bind(Object(o.a)(Object(o.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(o.a)(Object(o.a)(e))),e.matchClick=e.matchClick.bind(Object(o.a)(Object(o.a)(e))),e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadFile(b.a,!0),this.loadFile(p.a,!1)}},{key:"formData",value:function(){for(var e=this,t=[],n=0;n<this.state.countries.length;n++)this.state.textfield.toLowerCase()===this.state.countries[n].substring(0,this.state.textfield.length).toLowerCase()&&this.state.textfield.length>1&&t.push(this.state.countries[n]);var a=l.a.createElement("ul",{id:"matchlist"},t.map(function(t){return l.a.createElement("li",{onClick:function(){return e.matchClick(t)}},t," ")}));this.setState({matches:a})}},{key:"formTable",value:function(){try{for(var e=new DOMParser,t=e.parseFromString(this.state.population,"text/xml"),n=e.parseFromString(this.state.emissions,"text/xml"),a=[],i=t.getElementsByName("Country or Area"),s=t.getElementsByName("Year"),r=0,o=0;o<i.length;o++)i[o].textContent===this.state.selectedCountry&&(a.push(o),r=s[o].textContent);for(var c=[],u=0;u<a.length;u++)!0===this.state.selected?c.push(l.a.createElement("tr",null,l.a.createElement("th",null,r-u),l.a.createElement("th",null,t.getElementsByName("Value")[a[a.length-u-1]].textContent),l.a.createElement("th",null,n.getElementsByName("Value")[a[a.length-u-1]].textContent/t.getElementsByName("Value")[a[a.length-u-1]].textContent))):c.push(l.a.createElement("tr",null,l.a.createElement("th",null,r-u),l.a.createElement("th",null,t.getElementsByName("Value")[a[a.length-u-1]].textContent),l.a.createElement("th",null,n.getElementsByName("Value")[a[a.length-u-1]].textContent)));var h=l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null,"Population"),l.a.createElement("th",null,"Emissions")),c);this.setState({data:h})}catch(m){}}},{key:"handleChange",value:function(e){var t=this,n=e.target,a="checkbox"===n.type?n.checked:n.value,l=n.name;"checkbox"===n.type?this.setState(Object(r.a)({},l,a),function(){return t.formTable()}):this.setState(Object(r.a)({},l,a)),this.formData()}},{key:"loadFile",value:function(e,t){var n,a=new XMLHttpRequest;a.open("GET",e),a.onreadystatechange=function(){if(4===a.readyState&&(200===a.status||0===a.status)){n=a.responseText;var e=(new DOMParser).parseFromString(n,"text/xml");if(!0===t){for(var l=e.getElementsByName("Country or Area"),i=[],s=0;s<l.length;s++)l[s].textContent!==i[i.length-1]&&i.push(l[s].textContent);this.setState({countries:i}),this.setState({population:n})}else this.setState({emissions:n})}}.bind(this),a.send(null)}},{key:"matchClick",value:function(e){var t=this;this.setState({selectedCountry:e},function(){t.formTable()})}},{key:"handleSubmit",value:function(e){var t=this;this.setState({selectedCountry:this.state.textfield.substring(0,1).toUpperCase()+this.state.textfield.substring(1,this.state.textfield.length)},function(){t.formTable()}),this.formTable(),e.preventDefault()}},{key:"render",value:function(){return l.a.createElement("div",{id:"interface"},l.a.createElement("h1",null,"CO2 Emissions"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"Country:",l.a.createElement("input",{name:"textfield",type:"text",value:this.state.textfield,onChange:this.handleChange})),l.a.createElement("button",{onClick:this.handleSubmit},"Search"),l.a.createElement("div",null,this.state.matches),l.a.createElement("br",null),l.a.createElement("label",null,"Per Capita:",l.a.createElement("input",{name:"selected",type:"checkbox",checked:this.state.selected,onChange:this.handleChange}))),l.a.createElement("h2",null,this.state.selectedCountry),l.a.createElement("div",{id:"data"},this.state.data),l.a.createElement("div",null,this.state.infobox),l.a.createElement("footer",null,l.a.createElement("p",null,"Jaakko Kittil\xe4 - 2019"),l.a.createElement("p",null,"jaakko.kittila@gmail.com")))}}]),t}(a.Component),C=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[12,2,1]]]);
//# sourceMappingURL=main.c110475e.chunk.js.map